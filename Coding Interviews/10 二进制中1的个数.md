# 二进制中1的个数

## 0x01 基础知识

位运算一共有5种：与、或、异或、左移和右移

![image](51BA873A0B4148D5B0917D82FAB8462B)

- 左移运算符`m << n`表示把m左移n位。左移n位的时候，最左边的n位将被丢弃，同时在最右边补上n个0。比如：

```
00001010 << 2 = 00101000
10001010 << 3 = 01010000
```

- 右移运算符`m >> n`表示把m右移n位。右移n位的时候，最右边的n位将被丢弃。
  - 无符号数值：左边补n个0
  - 有符号数值：用数字符号填充最左边n位（正数补n个0；负数补n个1）

```
00001010 >> 2 = 00000010
10001010 >> 3 = 11110001
```

**常用操作**
```
# 判断整数奇偶，整数n
(n & 1) == 0  偶数
(n & 1) == 1  奇数

# 取余
(n & 0x1) == 1  奇数

# 除以2
n >> 1

```

## 0x02 题目

>输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。

### 2.1 常规解法

首先把数字n和1做**与**运算，判断n的最低位是不是1。接着把1左移一位得到2，再和n做**与**运算，就能判断n的倒数第二位是不是1……这样反复左移，每次都能判断n的其中1位是不是1。
**这种方法循环的次数等于整数二进制的位数**

```java
public class Solution {
    public int NumberOf1(int n) {
        int count = 0;
        int flag = 1;
        
        while (flag != 0) {
            if ((n & flag) != 0) {
                count++;
            }
            flag = flag << 1;
        }
        return count;
    }
}
```

### 2.2 优化解法

把一个整数减去1，再和原整数做与运算，会把该整数最右边的1变成0.那么一个整数的二进制表示中有多少个1，就可以进行多少次这样的操作。

```java
public int numberOf1(int n) {
    int count = 0;
    
    while(n != 0) {
        count++;
        n = (n - 1) & n;
    }
    return count;
}
```

2018-08-25 15:03:32 星期六